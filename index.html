<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
    <title>Canal C Del Zulia</title>
    
    <link rel="icon" type="image/png" href="https://upload.wikimedia.org/wikipedia/commons/thumb/8/83/Eo_circle_blue_white_letter-c.svg/2048px-Eo_circle_blue_white_letter-c.svg.png">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/clappr@latest/dist/clappr.min.js"></script>

    <style>
        :root { --primary-bg: #0a0a0a; --accent-color: #38bdf8; }
        body { background-color: var(--primary-bg); color: white; font-family: 'Inter', sans-serif; scroll-behavior: smooth; }
        
        .nav-link { position: relative; padding-bottom: 4px; transition: color 0.3s ease; }
        .nav-link::after { content: ''; position: absolute; width: 0; height: 2px; bottom: 0; left: 0; background-color: var(--accent-color); transition: width 0.3s ease; }
        .nav-link:hover::after { width: 100%; }
        .nav-link-active { color: var(--accent-color) !important; font-weight: bold; }
        .nav-link-active::after { width: 100% !important; }

        .video-holder {
            width: 100%;
            aspect-ratio: 16/9;
            background: #000;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 20px 50px rgba(0,0,0,0.5);
            position: relative;
        }
        
        /* Ajuste para que Clappr se vea impecable */
        #player { width: 100%; height: 100%; }
        #player [data-player] { width: 100% !important; height: 100% !important; }

        .hero-gradient { background: linear-gradient(180deg, rgba(56, 189, 248, 0.15) 0%, rgba(10, 10, 10, 1) 100%); }
        .status-dot-online { background-color: #4ade80; box-shadow: 0 0 10px #4ade80; }
        .status-dot-offline { background-color: #f87171; box-shadow: 0 0 10px #f87171; }
    </style>
</head>
<body>

    <nav class="flex justify-between items-center p-6 bg-black/50 backdrop-blur-md sticky top-0 z-50 border-b border-white/5">
        <div class="flex items-center gap-3">
            <img src="https://i.postimg.cc/W30Rr4bt/Canal-C.png" alt="Logo" style="height: 32px;">
            <span class="text-xl font-bold tracking-tighter">CANAL C</span>
        </div>
        <div class="hidden md:flex gap-8 font-medium">
            <a href="#inicio" class="nav-link text-gray-300">Inicio</a>
            <a href="#historia" class="nav-link text-gray-300">Nosotros</a>
            <a href="#vivo" class="nav-link nav-link-active text-gray-300">En Vivo</a>
        </div>
        <a href="https://linktr.ee/cristianhilos" target="_blank" class="bg-sky-600 hover:bg-sky-500 px-5 py-2 rounded-full text-sm font-bold transition shadow-lg shadow-sky-600/20">Más Información</a>
    </nav>

    <header id="inicio" class="hero-gradient pt-24 pb-16 px-6 text-center">
        <img src="https://i.postimg.cc/W30Rr4bt/Canal-C.png" alt="Logo" style="height: 120px; margin: 0 auto 2rem;" class="animate-pulse">
        <div class="inline-block mb-4">
            <span id="live-indicator" class="bg-yellow-500/20 text-yellow-400 px-4 py-1 rounded-full text-xs font-bold uppercase tracking-widest">Sincronizando...</span>
        </div>
        <p class="text-gray-400 max-w-2xl mx-auto text-lg mb-8 italic">"Innovación y libertad en cada transmisión"</p>
    </header>

    <section id="historia" class="max-w-4xl mx-auto px-6 py-20 border-y border-white/5">
        <div class="grid md:grid-cols-2 gap-12 items-center">
            <div>
                <h2 class="text-3xl font-bold mb-6 text-sky-400">Nuestra Creación</h2>
                <p class="text-gray-400 leading-relaxed mb-4">
                    Canal C nació de la visión de <strong>Cristián Hilos</strong> como un espacio digital independiente, diseñado para ver videos o programas en internet. 
                </p>
                <p class="text-gray-400 leading-relaxed">
                    Surgió con el propósito de ofrecer una plataforma donde la creatividad no tuviera límites, permitiendo contenido auténtico y moderno.
                </p>
            </div>
            <div class="bg-sky-500/5 p-8 rounded-3xl border border-sky-500/10">
                <h2 class="text-3xl font-bold mb-6 text-sky-400">¿Qué transmitimos?</h2>
                <ul class="space-y-4">
                    <li class="flex items-start gap-3 text-gray-300">✦ <p><span class="font-bold text-white">Cualquier Programación:</span> Sin horarios fijos.</p></li>
                    <li class="flex items-start gap-3 text-gray-300">✦ <p><span class="font-bold text-white">Señal Variada 24/7:</span> Entretenimiento continuo.</p></li>
                    <li class="flex items-start gap-3 text-gray-300">✦ <p><span class="font-bold text-white">Libertad Total:</span> Espacio seguro de expresión.</p></li>
                </ul>
            </div>
        </div>
    </section>

    <section id="vivo" class="max-w-6xl mx-auto px-6 py-20">
        <div class="flex items-center gap-3 mb-8">
            <div class="w-1 h-8 bg-sky-500 rounded-full"></div>
            <h2 class="text-3xl font-bold uppercase">Transmisión en Vivo</h2>
        </div>

        <div class="video-holder">
            <div id="player"></div>
        </div>
        
        <div class="mt-6 flex flex-wrap justify-between items-center gap-4 bg-white/5 p-6 rounded-2xl border border-white/5">
            <div class="flex items-center gap-4">
                <div class="w-14 h-14 bg-black rounded-lg flex items-center justify-center p-1 border border-white/10">
                    <img src="https://i.postimg.cc/W30Rr4bt/Canal-C.png" alt="Icono" class="w-full h-full object-contain">
                </div>
                <div>
                    <h3 class="text-xl font-bold text-white">Canal C HD</h3>
                    <p id="stream-status-text" class="text-gray-400 text-sm">Escaneando señal...</p>
                </div>
            </div>
            <div class="flex items-center gap-3 bg-black/40 px-4 py-2 rounded-xl border border-white/5">
                <span id="status-dot" class="w-3 h-3 rounded-full status-dot-offline"></span>
                <span id="status-text" class="text-sm font-bold text-gray-400 uppercase">Detectando</span>
            </div>
        </div>
    </section>

    <footer class="border-t border-white/10 py-16 text-center text-gray-500 text-sm">
        <img src="https://i.postimg.cc/W30Rr4bt/Canal-C.png" alt="Logo" style="height: 40px; margin: 0 auto 1.5rem; opacity: 0.6;">
        <p>&copy; 2025-2026 Canal C Televisión. Hecho por Cristián Hilos</p>
    </footer>

    <script>
        const streamUrl = "https://vs20.live.opencaster.com/cristianhilos_314b91b0/index.m3u8";

        // INICIALIZACIÓN DE CLAPPR
        (function() {
            var player = new Clappr.Player({
                source: streamUrl,
                parentId: "#player",
                autoPlay: true,
                mute: false,
                width: "100%",
                height: "100%",
                poster: "", // Sin imagen previa (muestra el fotograma)
                mediacontrol: {seekbar: "#38bdf8", buttons: "#38bdf8"} 
            });
        })();

        // Función de chequeo de señal
        async function checkStream() {
            const indicator = document.getElementById('live-indicator');
            const dot = document.getElementById('status-dot');
            const text = document.getElementById('status-text');
            const infoText = document.getElementById('stream-status-text');

            try {
                const res = await fetch(streamUrl, { method: 'HEAD' });
                if(res.ok) {
                    indicator.className = "bg-red-600 text-white px-4 py-1 rounded-full text-xs font-bold animate-pulse";
                    indicator.innerText = "EN VIVO";
                    dot.className = "w-3 h-3 rounded-full status-dot-online";
                    text.innerText = "ONLINE";
                    infoText.innerText = "Señal estable en HD";
                } else {
                    indicator.innerText = "FUERA DE LÍNEA";
                }
            } catch(e) {
                indicator.innerText = "SIN SEÑAL";
            }
        }

        window.onload = checkStream;
        setInterval(checkStream, 15000);
    </script>
</body>
</html>
